<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đánh giá & Bài viết - Du lịch Trà Vinh</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">

    <!-- AI Chatbot Component -->
    <link rel="stylesheet" href="components/chatbot-styles.css">

    <style>
    /* Simple Chatbot Styles */
    .simple-chatbot-toggle {
        position: fixed;
        bottom: 24px;
        right: 24px;
        width: 64px;
        height: 64px;
        border-radius: 50%;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border: none;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
        z-index: 9999;
        color: white;
        font-size: 28px;
    }

    .simple-chatbot-toggle:hover {
        transform: translateY(-2px) scale(1.05);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
    }

    .simple-chatbot-window {
        position: fixed;
        bottom: 100px;
        right: 24px;
        width: 400px;
        height: 600px;
        background: white;
        border-radius: 24px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
        transform: translateY(20px) scale(0.95);
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
        z-index: 9998;
        display: flex;
        flex-direction: column;
        overflow: hidden;
    }

    .simple-chatbot-window.active {
        transform: translateY(0) scale(1);
        opacity: 1;
        visibility: visible;
    }

    .simple-chatbot-header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 20px;
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    .simple-chatbot-messages {
        flex: 1;
        padding: 20px;
        overflow-y: auto;
        background: #f8fafc;
    }

    .simple-chatbot-input-area {
        padding: 20px;
        border-top: 1px solid #e5e7eb;
        background: white;
    }

    .simple-chatbot-input {
        width: 100%;
        border: 2px solid #e5e7eb;
        border-radius: 24px;
        padding: 12px 16px;
        outline: none;
        transition: all 0.3s ease;
    }

    .simple-chatbot-input:focus {
        border-color: #667eea;
        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    .simple-message {
        margin-bottom: 16px;
        display: flex;
        align-items: flex-end;
        gap: 8px;
    }

    .simple-message-ai {
        justify-content: flex-start;
    }

    .simple-message-user {
        justify-content: flex-end;
    }

    .simple-message-bubble {
        max-width: 280px;
        padding: 12px 16px;
        border-radius: 18px;
        word-wrap: break-word;
    }

    .simple-message-bubble.ai {
        background: white;
        color: #374151;
        border: 1px solid #e5e7eb;
    }

    .simple-message-bubble.user {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
    }

    .simple-quick-actions {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-bottom: 20px;
    }

    .simple-quick-action-btn {
        background: white;
        border: 1px solid #e5e7eb;
        border-radius: 20px;
        padding: 8px 16px;
        font-size: 13px;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .simple-quick-action-btn:hover {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border-color: transparent;
    }

    @media (max-width: 768px) {
        .simple-chatbot-window {
            width: calc(100vw - 32px);
            height: calc(100vh - 120px);
            right: 16px;
            bottom: 80px;
        }

        .simple-chatbot-toggle {
            width: 56px;
            height: 56px;
            bottom: 16px;
            right: 16px;
        }
    }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-blue-700 shadow-lg fixed w-full top-0 z-50">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center space-x-2">
                    <i class="fas fa-pagoda text-blue-100 text-2xl"></i>
                    <a href="index.html" class="text-blue-100 text-xl font-bold">Du lịch Trà Vinh</a>
                </div>
                <div class="hidden md:flex space-x-6">
                    <a href="index.html" class="nav-link text-blue-100 hover:text-blue-300 px-3 py-2 transition duration-300 font-bold drop-shadow-md text-lg">Trang chủ</a>
                    <a href="gioi-thieu.html" class="nav-link text-blue-100 hover:text-blue-300 px-3 py-2 transition duration-300 font-bold drop-shadow-md text-lg">Giới thiệu</a>
                    <a href="dia-diem.html" class="nav-link text-blue-100 hover:text-blue-300 px-3 py-2 transition duration-300 font-bold drop-shadow-md text-lg">Địa điểm</a>
                    <a href="lien-he.html" class="nav-link text-blue-100 hover:text-blue-300 px-3 py-2 transition duration-300 font-bold drop-shadow-md text-lg">Liên hệ</a>
                    <a href="danh-gia.html" class="nav-link text-blue-100 hover:text-blue-300 px-3 py-2 transition duration-300 font-bold drop-shadow-md text-lg">Đánh giá & Bài viết</a>
                </div>
                <div class="auth-buttons">
                    <div class="flex items-center space-x-4">
                        <button onclick="window.authModal.openLogin()" class="bg-blue-100 text-blue-700 px-4 py-2 rounded-full hover:bg-blue-200 transition duration-300">
                            <i class="fas fa-sign-in-alt mr-2"></i>Đăng nhập
                        </button>
                        <button onclick="window.authModal.openRegister()" class="border border-blue-100 text-blue-100 px-4 py-2 rounded-full hover:bg-blue-100 hover:text-blue-700 transition duration-300">
                            <i class="fas fa-user-plus mr-2"></i>Đăng ký
                        </button>
                    </div>
                </div>
                <button class="md:hidden text-blue-100" onclick="toggleMobileMenu()">
                    <i class="fas fa-bars text-xl"></i>
                </button>
            </div>
            <div id="mobileMenu" class="md:hidden hidden bg-blue-800 bg-opacity-90 rounded-lg mb-4">
                <div class="px-4 py-2 space-y-2">
                    <a href="index.html" class="block text-blue-100 hover:text-blue-300 py-2">Trang chủ</a>
                    <a href="gioi-thieu.html" class="block text-blue-100 hover:text-blue-300 py-2">Giới thiệu</a>
                    <a href="dia-diem.html" class="block text-blue-100 hover:text-blue-300 py-2">Địa điểm</a>
                    <a href="lien-he.html" class="block text-blue-100 hover:text-blue-300 py-2">Liên hệ</a>
                    <a href="danh-gia.html" class="block text-blue-100 hover:text-blue-300 py-2">Đánh giá & Bài viết</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="pt-20">
        <div class="py-16 bg-gray-50">
            <div class="container mx-auto px-4">
                <h1 class="text-4xl font-bold text-center mb-12 text-gray-800">Đánh giá & Bài viết</h1>
                
                <!-- Reviews Section -->
                <div class="mb-16">
                    <h2 class="text-3xl font-bold mb-8 text-center text-blue-600">Đánh giá từ du khách</h2>
                    <div class="flex flex-col md:flex-row md:items-center md:justify-center gap-4 mb-8">
                        <!-- Dropdown chọn số sao -->
                        <select class="border border-blue-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400" id="filterStar">
                            <option value="">Chọn số sao</option>
                            <option value="5">5 sao</option>
                            <option value="4">4 sao</option>
                            <option value="3">3 sao</option>
                            <option value="2">2 sao</option>
                            <option value="1">1 sao</option>
                        </select>
                        <!-- Dropdown phân loại địa điểm -->
                        <select class="border border-blue-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400" id="filterPlace">
                            <option value="">Tất cả địa điểm</option>
                            <option value="chua-ang">Chùa Ang</option>
                            <option value="bien-ba-dong">Biển Ba Động</option>
                            <option value="rung-dua">Rừng dừa Bảy Mẫu</option>
                            <option value="ao-ba-om">Ao Bà Om</option>
                            <option value="bao-tang-khmer">Bảo tàng Khmer</option>
                        </select>
                        <!-- Nút tất cả -->
                        <button class="bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-blue-700 transition duration-300" id="showAllReviews">Tất cả</button>
                    </div>
                    <div id="reviewsList" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
                </div>

                <!-- Articles Section -->
                <div>
                    <h2 class="text-3xl font-bold mb-8 text-center text-green-600">Bài viết nổi bật</h2>
                    <div class="grid md:grid-cols-2 gap-8">
                        <!-- Article 1 -->
                        <article class="bg-white rounded-lg shadow-lg overflow-hidden">
                            <div class="h-48 bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center">
                                <i class="fas fa-newspaper text-white text-6xl"></i>
                            </div>
                            <div class="p-6">
                                <div class="flex items-center text-sm text-gray-500 mb-2">
                                    <i class="fas fa-calendar mr-2"></i>
                                    <span>15 tháng 12, 2024</span>
                                    <i class="fas fa-user ml-4 mr-2"></i>
                                    <span>Admin</span>
                                </div>
                                <h3 class="text-xl font-bold mb-3">Top 10 điểm du lịch không thể bỏ qua ở Trà Vinh</h3>
                                <p class="text-gray-600 mb-4">Khám phá những địa điểm du lịch hấp dẫn nhất tại Trà Vinh, từ các ngôi chùa cổ kính đến những bãi biển hoang sơ...</p>
                                <button onclick="window.location.href='top-10-dia-diem-tra-vinh.html'" class="text-blue-600 font-semibold hover:text-blue-800 transition duration-300">
                                    Đọc thêm <i class="fas fa-arrow-right ml-1"></i>
                                </button>
                            </div>
                        </article>

                        <!-- Article 2 -->
                        <article class="bg-white rounded-lg shadow-lg overflow-hidden">
                            <div class="h-48 bg-gradient-to-br from-green-400 to-blue-500 flex items-center justify-center">
                                <i class="fas fa-utensils text-white text-6xl"></i>
                            </div>
                            <div class="p-6">
                                <div class="flex items-center text-sm text-gray-500 mb-2">
                                    <i class="fas fa-calendar mr-2"></i>
                                    <span>12 tháng 12, 2024</span>
                                    <i class="fas fa-user ml-4 mr-2"></i>
                                    <span>Admin</span>
                                </div>
                                <h3 class="text-xl font-bold mb-3">Hành trình khám phá ẩm thực Trà Vinh</h3>
                                <p class="text-gray-600 mb-4">Từ bánh ít lá gai đến cơm dẻo, cùng khám phá những món ăn đặc sản không thể thiếu khi đến Trà Vinh...</p>
                                <button onclick="window.location.href='am-thuc-tra-vinh.html'" class="text-blue-600 font-semibold hover:text-blue-800 transition duration-300">
                                    Đọc thêm <i class="fas fa-arrow-right ml-1"></i>
                                </button>
                            </div>
                        </article>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Login Modal, Register Modal, Chatbot, Footer (Sao chép và dán toàn bộ các phần này từ file index.html vào đây) -->
    <!-- ... -->
    
    <script src="script.js"></script>

    <!-- Floating Chatbot Component -->
    <script src="components/chatbot-float.js"></script>

<script>
// Danh sách đánh giá mẫu
const reviews = [
  {
    name: 'Nguyễn Minh Anh',
    place: 'Chùa Ang',
    placeValue: 'chua-ang',
    stars: 5,
    content: 'Trà Vinh thật sự tuyệt vời! Văn hóa đa dạng, con người thân thiện và ẩm thực rất ngon. Đặc biệt là các ngôi chùa Khmer rất đẹp và độc đáo.',
    color: 'bg-blue-500',
    avatar: 'N',
  },
  {
    name: 'Lê Thị Hồng',
    place: 'Biển Ba Động',
    placeValue: 'bien-ba-dong',
    stars: 5,
    content: 'Biển Ba Động rất đẹp và hoang sơ. Tôi đã có những giây phút thư giãn tuyệt vời ở đây. Sẽ quay lại lần nữa!',
    color: 'bg-green-500',
    avatar: 'L',
  },
  {
    name: 'Trần Văn Đức',
    place: 'Rừng dừa Bảy Mẫu',
    placeValue: 'rung-dua',
    stars: 4,
    content: 'Rừng dừa Bảy Mẫu là nơi tuyệt vời để tìm hiểu về sinh thái miền Tây. Không khí rất trong lành và mát mẻ.',
    color: 'bg-purple-500',
    avatar: 'T',
  },
  {
    name: 'Phạm Thị Mai',
    place: 'Ao Bà Om',
    placeValue: 'ao-ba-om',
    stars: 3,
    content: 'Ao Bà Om khá đẹp, không gian yên tĩnh nhưng dịch vụ ăn uống chưa đa dạng.',
    color: 'bg-pink-500',
    avatar: 'M',
  },
  {
    name: 'Nguyễn Văn Ba',
    place: 'Chùa Ang',
    placeValue: 'chua-ang',
    stars: 2,
    content: 'Trà Vinh thật sự tuyệt vời! Văn hóa đa dạng, con người thân thiện và ẩm thực rất ngon. Đặc biệt là các ngôi chùa Khmer rất đẹp và độc đáo.',
    color: 'bg-blue-500',
    avatar: 'N',
  },
  {
    name: 'Võ Quốc Bảo',
    place: 'Bảo tàng Khmer',
    placeValue: 'bao-tang-khmer',
    stars: 1,
    content: 'Bảo tàng nhỏ, ít hiện vật, cần cải thiện thêm về trải nghiệm tham quan.',
    color: 'bg-yellow-500',
    avatar: 'B',
  },
];

function renderReviews(filterStar = '', filterPlace = '') {
  let filtered = reviews;
  if (filterStar) filtered = filtered.filter(r => r.stars == filterStar);
  if (filterPlace) filtered = filtered.filter(r => r.placeValue == filterPlace);
  // Nếu không lọc gì, chỉ hiện 3 đánh giá đầu
  if (!filterStar && !filterPlace) filtered = reviews.slice(0, 3);
  const html = filtered.map(r => `
    <div class="bg-white p-6 rounded-lg shadow-lg">
      <div class="flex items-center mb-4">
        <div class="w-12 h-12 ${r.color} rounded-full flex items-center justify-center text-white font-bold">
          ${r.avatar}
        </div>
        <div class="ml-4">
          <h4 class="font-bold">${r.name}</h4>
          <div class="text-yellow-500 flex items-center">
            ${'<i class=\'fas fa-star\'></i>'.repeat(r.stars)}${'<i class=\'far fa-star\'></i>'.repeat(5 - r.stars)}
          </div>
          <div class="text-sm text-blue-600 font-semibold mt-1">${r.place}</div>
        </div>
      </div>
      <p class="text-gray-600 italic">"${r.content}"</p>
    </div>
  `).join('');
  document.getElementById('reviewsList').innerHTML = html || '<div class="col-span-full text-center text-gray-500 italic">Không có đánh giá phù hợp.</div>';
}

// Sự kiện lọc
const starSelect = document.getElementById('filterStar');
const placeSelect = document.getElementById('filterPlace');
const allBtn = document.getElementById('showAllReviews');

starSelect.addEventListener('change', () => {
  renderReviews(starSelect.value, placeSelect.value);
});
placeSelect.addEventListener('change', () => {
  renderReviews(starSelect.value, placeSelect.value);
});
allBtn.addEventListener('click', () => {
  starSelect.value = '';
  placeSelect.value = '';
  renderReviews();
});

// Hiện mặc định 3 đánh giá đầu
renderReviews();
</script>
</body>
</html>